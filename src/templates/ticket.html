{% extends "booking-process.html" %}
{% block title %}Ticket{% endblock %}
{% block booking %}

{% set header = "Boarding Pass" %}
<div class="page-header">
    <p>{{ header }}</p>
</div>

<div class="home-body" style="position: absolute; height: 100%; width: 100%; opacity: 0;"></div>
<div class="ticket-wrapper">
    {% for i in range(stops | length) %}
    {% set id = 'splide' + (i | string) %}
    <div class="ticket-subheading">
        <p>TICKET(S) FOR {{ municipalities[i][0] }} TO {{ municipalities[i+1][0] }} </p>
    </div>
    <div class="splide" id="{{ id }}" role="group" aria-label="Splide Basic HTML Example">
        <div class="splide__track">
            <ul class="splide__list">
                {% for j in range((form_part_one['passenger-adult'] | int) + (form_part_one['passenger-children'] | int) + (form_part_one['passenger-infant'] | int)) %}
                <li class="splide__slide">
                    <div class="ticket_div" >
                        <div class="ticket-top">
                            
                            <img src="/static/img/logo_noname.png" class="logo-ticket"  width="70px" height="70px">
                    
                            <p class="airline-name-ticket">AIRNESS AIRLINES</p>
                    
                            <p class="b-pass-ticket">&nbsp;&nbsp;&nbsp;BOARDING PASS&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BOARDING PASS</p>
                        </div>
                    
                        <div class="vertical_dashed_ticket"></div>
                    
                        <div class="info-left-ticket">
                            <img src="/static/img/world_map.png" class="world-map-ticket" >
                            <p class="class-ticket">{{ form_part_one['airline-class'] }} CLASS</p> 
                            
                            <div class="name-info-ticket">
                                <p class="name-ticket">Name<br><span class="passenger-name-ticket">{{ passenger_names[j][0] }}</span> </p>            
                            </div>
                            
                            <div class="boarding-info-ticket">
                                <p class="boarding-ticket">Departure Time<br><span class="boarding-time-ticket"> {{ stops[i][1] }} </span> </p>
                            </div>
                    
                            <div class="departure-info-ticket">
                                <p class="departure-ticket">Arrival Time<br><span class="departure-time-ticket"> {{ stops[i][2] }} </span> </p>
                            </div>
                    
                            <div class="from-info-ticket">
                                <p class="from-ticket">From<br><span class="passenger-from-ticket"> {{ municipalities[i][0] }} </span> </p>
                            </div>
                    
                            <div class="date-info-ticket">
                                <p class="date-ticket">Departure Date<br><span class="flight-date-ticket">{{ departureDate }}</span> </p>
                            </div>
                    
                            <div class="seat-info-ticket">
                                <p class="seat-ticket">Seat<br><span class="passenger-seat-ticket"> {{ session['booked_seats']['p' + ((j + 1)| string)] }} </span> </p>
                            </div>
                    
                            <div class="flight-info-ticket">
                                <p class="flight-ticket">Flight No.<br><span class="passenger-flight-ticket"> {{ stops[i][0] }} </span> </p>
                            </div>
                    
                            <div class="to-info-ticket">
                                <p class="to-ticket">To<br><span class="passenger-to-ticket"> {{ municipalities[i+1][0] }} </span> </p>
                            </div>
                    
                            <div class="ticketnumber-info-ticket">
                                <p class="ticketnumber-ticket">Ticket Number<br><span class="passenger-ticketnumber-ticket"> {{ session['ticketId'] }}</span> </p>
                            </div>
                            
                    
                            <img src="/static/img/goldenairplane.png" class="goldairplane-ticket">
                    
                            <img src="/static/img/barcode.png" class="barcode-left-ticket">
                        </div>
                    
                    
                        <div class="info-right-ticket">
                    
                            <div class="copy-name-ticket">
                            <p class="cname-ticket">{{ passenger_names[j][0] }}</p>
                                <hr class="horizontal-dashed-line">
                            </div>
                    
                            <div class="copy-from-info-ticket">
                                <p class="copy-from-ticket">From <br><span class="copy-passenger-from-ticket">{{ stops[i][4] }}</p>
                            </div>
                    
                            <div class="copy-to-info-ticket">
                                <p class="copy-to-ticket">To <br><span class="copy-passenger-to-ticket">{{ stops[i][5] }}</p>
                            </div>
                    
                            <div class="copy-boarding-info-ticket">
                                <p class="copy-boarding-ticket">Departure Time<br><span class="copy-boarding-time-ticket"> {{ stops[i][1] }} </p>
                            </div>
                    
                            <div class="copy-departure-info-ticket">
                                <p class="copy-departure-ticket">Arrival Time<br><span class="copy-departure-time-ticket"> {{ stops[i][2] }} </p>
                            </div>
                    
                            <div class="copy-date-info-ticket">
                                <p class="copy-date-ticket">Departure Date <br><span class="copy-flight-date-ticket">13/04/2024 </p>
                            </div>
                    
                            <div class="copy-seat-info-ticket">
                                <p class="copy-seat-ticket">Seat<br><span class="copy-passenger-seat-ticket"> {{ session['booked_seats']['p' + ((j + 1)| string)] }} </p>
                            </div>
                    
                            <div class="copy-flight-info-ticket">
                                <p class="copy-flight-ticket">Flight No.<br><span class="copy-passenger-flight-ticket"> {{ stops[i][0] }} </p>
                            </div>
                    
                            <img src="/static/img/barcode.png" class="barcode-right-ticket">
                        </div>
                        
                    </div>
                </li>
                {% endfor %}
            </ul>
        </div>
    </div>
{% endfor %}
</div>

{% endblock %}

{% block script %}
    <script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/css/splide.min.css" rel="stylesheet">
    <script type="text/javascript" src="{{ url_for('static', filename='js/ticket.js')}}"></script>
{% endblock %}
